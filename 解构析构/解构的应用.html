<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>解构的应用</title>
    </head>

    <body>
        1、解构参数，增强可读性
        <script>
            'use strict'
            // function getGouGu([_勾, _股])//如果参数是null或者undefined，报错：Uncaught TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
            //因为null或者undefined不能装箱成数组或者类数组
            // function _求弦([_勾, _股] = [0, 0])
            function _求弦([_勾 = 0, _股 = 0] = [])
            {
                console.log([_勾, _股]);
                return Math.sqrt(_勾 * _勾 + _股 * _股)
            }
            // console.log(_求弦());
            // console.log(_求弦([]));
            // console.log(_求弦([null, '']));//除了undefined，其它 falsity在参与数学运算前，都被转换为了0
            // console.log(_求弦([false, '']));//除了undefined，其它 falsity在参与数学运算前，都被转换为了0
            // console.log(_求弦([true, '']));//除了undefined，其它 falsity在参与数学运算前，都被转换为了0
            // console.log(_求弦([3, 4]));

            // function _求弦1({ _勾, _股 } = { _勾: 0, _股: 0 })
            function _求弦1({ _勾 = 0, _股 = 0 } = {})
            {
                console.log({ _勾, _股 });
                return Math.sqrt(_勾 * _勾 + _股 * _股)
            }
            // console.log(_求弦1());
            // console.log(_求弦1({}));
            // console.log(_求弦1({ _勾: '' }));//除了undefined，其它 falsity在参与数学运算前，都被转换为了0
            // console.log(_求弦1({ _勾: 3, _股: 4 }));
        </script>
        2、函数返回多个独立的值

        <script>
            // function _求勾股(_弦, _斜直夹角)
            // {
            //     const _勾 = Math.sqrt(2) * Math.sin(-Math.PI * _斜直夹角 / 360);
            //     const _股 = Math.sqrt(2) * Math.cos(Math.PI * (_斜直夹角 - 90) / 360);
            //     console.log(_勾 * _勾 + _股 * _股 === _弦 * _弦);
            //     // return [_勾, _股];
            //     return { _勾, _股 };
            // }
            // console.log(_求勾股(Math.sqrt(2), 45));
        </script>
        3、交换两个变量的值
        <script>
            let a = 'a';
            let b = 'b';
            // [b, a] = [a, b];
            // console.log([a, b]);
            ({ a: b, b: a } = { a, b });// 对象解构对已存在的变量重新赋值时，一定要加括弧，否则，左侧的大括弧会被认为是代码块
            console.log({ a, b });
        </script>
        4、复杂的解构赋值
        <script>
            const girl = {
                name: '柳如是',
                ['身材']: {
                    height: '180cm',
                    weight: '70kg',
                    ['胸围']: 'C',
                    ['腰围']: 'n/a',
                    ['臀围']: 'n/a',
                },
                '才艺': ['琴', '棋', '书', '画', '唱跳', '吹箫', '骑射'],
                price: {
                    once: [3000, 5000, 7000],
                    oneNight: 9000
                }
            }
            const baseinfo = { name, ['身材']: _身材详情, ['身材']: { height, weight: _体重 }, price: _价位, price: { once: [, , _最高花费] } } = girl;
            console.log({ name, _最高花费, _身材详情, baseinfo });
        </script>
    </body>

</html>
